Tags: #DailyNote 
# Event Loop (on web api)
## "Run-to-completion"
Each message is processed completely before any other message is processed.

Benefit: Whenever a function runs, it cannot be preempted and will run entirely before any other codes run (and can modify data the function manipulates).

Disadvantage: A downside of this model is that if a message takes too long to complete, it will block another process.

## Adding message
The first two argument to the function setTimeout are a message to add to the queue and a time value. The time value represents the (minimum) delay after which the message will be pushed into the queue. If there is no other message in the queue, and the stack is empty, the message is processed right after the delay. However, if there are messages, the setTimeout message will have to wait for other messages to be processed. For this reason, the second argument indicates a *minimum* time - not a *guarantee* time.

## Several runtimes communicating together
A web worker or a cross-origin `iframe` has its own stack, heap, and message queue. Two distinct runtimes can only communicate through sending messages via the `postMessage` method. This method adds a message to the other runtime if the later listen to message events


